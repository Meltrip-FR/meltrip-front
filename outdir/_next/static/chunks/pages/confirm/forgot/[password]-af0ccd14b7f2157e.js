(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[131],{4542:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/confirm/forgot/[password]",function(){return e(8351)}])},8351:function(n,t,e){"use strict";e.r(t);var r=e(4051),a=e.n(r),o=e(5893),u=e(9669),s=e.n(u),c=e(1163),i=e(7294),f=e(3344);function l(n,t,e,r,a,o,u){try{var s=n[o](u),c=s.value}catch(i){return void e(i)}s.done?t(c):Promise.resolve(c).then(r,a)}function p(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var o=n.apply(t,e);function u(n){l(o,r,a,u,s,"next",n)}function s(n){l(o,r,a,u,s,"throw",n)}u(void 0)}))}}t.default=function(){var n=(0,c.useRouter)(),t=(0,i.useState)(""),e=t[0],r=t[1],u=(0,i.useState)(""),l=u[0],d=u[1],h=(0,i.useState)(""),v=h[0],w=h[1],x=(0,i.useState)(""),_=x[0],g=x[1],m=function(){var t=p(a().mark((function t(){var e,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("".concat("http://localhost:4545","/user/").concat(n.query.usertag,"/tag"));case 2:return e=t.sent,t.next=5,e.data;case 5:if(!(o=t.sent).email){t.next=9;break}return t.next=9,s().post("".concat("http://localhost:4545","/auth/signin"),{email:o.email,password:n.query.password}).then((function(n){if(n.data.id)return r(n.data.id),void d(n.data.email)}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();console.log("ok");var k=function(){var n=p(a().mark((function n(t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,s().put("".concat("http://localhost:4545","/user/").concat(e),{password:v}).then((function(n){var t=n.data;console.log(t)})).catch((function(n){return g(n.response.data.message)}));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,i.useEffect)((function(){m().catch((function(n){return console.error(n)}))}),[n.query]),(0,o.jsx)(f.default,{children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("h1",{children:["Change password your password (",l,")"]}),_&&(0,o.jsx)("span",{children:_}),(0,o.jsx)("input",{type:"password",placeholder:"password",value:v,onChange:function(n){return w(n.target.value)}}),(0,o.jsx)("button",{onClick:function(n){return k(n)},children:"Submit"})]})})}}},function(n){n.O(0,[927,669,344,774,888,179],(function(){return t=4542,n(n.s=t);var t}));var t=n.O();_N_E=t}]);